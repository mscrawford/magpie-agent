---
type: global
target: CLAUDE.md
priority: high
date: 2025-10-23
author: Claude (from user correction)
---

## Issue / Observation

Agent conflates "using data about a process" with "modeling the process itself."

**Specific example from session:**
- Agent saw `f35_forest_lost_share(i,"wildfire")` in Module 35
- Concluded: "Module 35 tracks fire-disturbed area" → "Module 35 models fire"
- **Reality**: Module 35 applies **historical exogenous rates** labeled "wildfire" from data files
- **NO fire processes** are actually simulated (no ignition, spread, combustion calculations)

User correctly identified: "I don't think that this is modelling fire per se, just generic disturbance."

## Impact

**Severely misleading responses:**
- Overestimates model capabilities
- Users may incorrectly believe processes are mechanistically represented
- Gap analysis becomes inaccurate (mixing parameterization with process-based modeling)
- Recommendations for model improvements become confused

**Undermines trust:**
- Users lose confidence when agent makes basic mistakes about what's modeled vs. what's data

## Suggested Improvement

Add to CLAUDE.md "Warning Signs - Stop and Verify" section:

```markdown
### ⚠️ Critical: Parameterization vs. Process-Based Modeling

**Before claiming "MAgPIE models X", verify these THREE checks:**

1. **Equation Check**: Are there equations that CALCULATE X?
   ```gams
   ✅ PROCESS: vm_carbon(j,ac) =e= f_chapman_richards(A,k,m,ac)
   ❌ PARAMETER: p_loss(j) = f_historical_rate(j) * area
   ```

2. **Source Check**: Does X come from input files or calculations?
   ```gams
   ❌ PARAMETER: $include "./modules/XX/input/f_data.cs3"
   ✅ PROCESS: p_calculated(j,t) = f(vm_variable1, pm_variable2)
   ```

3. **Feedback Check**: Does model state affect X dynamically?
   ```gams
   ✅ PROCESS: fire_risk(j,t) = f(forest_moisture(j,t), temperature(j,t))
       where forest_moisture depends on vm_land_cover
   ❌ PARAMETER: disturbance_rate(j) = fixed_data(j)
   ```

**Red flag patterns that indicate PARAMETERIZATION, not modeling:**
- Variable names starting with `f_` or `i_` → Fixed inputs
- `$include "./modules/XX/input/..."` → External data
- `parameter * area` → Applying rates, not calculating them
- Labels like "wildfire" in data files → Attribution, not mechanism

**Correct language:**
- ✅ "MAgPIE parameterizes X using historical data from [source]"
- ✅ "MAgPIE applies exogenous rates for X"
- ✅ "Module XX uses data labeled 'X' but doesn't simulate X processes"
- ❌ "MAgPIE models X" (unless equations calculate X endogenously)
```

## Example

**Current behavior:**
```
User: "How does MAgPIE model fire?"
Agent: "Module 35 tracks fire-disturbed area using wildfire rates..."
User: "I don't think that's modeling fire, just generic disturbance"
Agent: "You're right, let me clarify..."
```

**Improved behavior:**
```
User: "How does MAgPIE model fire?"
Agent: [Checks: Is fire calculated or from input data?]
Agent: [Finds: f35_forest_lost_share is input data]
Agent: "Module 35 applies HISTORICAL disturbance rates labeled 'wildfire'
       from observational data, but does NOT simulate fire processes
       (no ignition, spread, or combustion calculations). The label 'wildfire'
       comes from statistical attribution of forest loss causes, not from
       mechanistic fire modeling."
```

## Priority Rationale

**HIGH** because:
1. **Foundational mistake** - affects understanding of what IAMs can/cannot do
2. **Frequently relevant** - many processes use parameterization (fire, degradation, climate impacts)
3. **Hard to recover from** - once wrong statement made, conversation derailed
4. **Erosion of trust** - users lose confidence in agent accuracy
5. **Critical for gap analysis** - must distinguish what's missing from what's parameterized

This is not a minor documentation error - it's a fundamental misunderstanding of model architecture.
